/*! For license information please see extension@1.3.572.min.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("React"),require("ReactDOM"),require("commonUMD"),require("dataUMD"),require("httpSDK"),require("tslib"),require("utilsUMD")):"function"==typeof define&&define.amd?define("extensionUMD",["React","ReactDOM","commonUMD","dataUMD","httpSDK","tslib","utilsUMD"],t):"object"==typeof exports?exports.extensionUMD=t(require("React"),require("ReactDOM"),require("commonUMD"),require("dataUMD"),require("httpSDK"),require("tslib"),require("utilsUMD")):e.extensionUMD=t(e.React,e.ReactDOM,e.commonUMD,e.dataUMD,e.httpSDK,e.tslib,e.utilsUMD)}(this,((e,t,n,r,o,i,a)=>(()=>{"use strict";var c,l={9113:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Ne});var r=n(1024),o=n.n(r),i=n(6004),a=n(5226),c=n(3120),l=n(8525),u=n(6093),s=n(5353),f=n(1458),d=n(1182);function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const m=function(){var e,t,n=(e=(0,r.useState)("none"),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],l=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=n[0],i=n[1],a=function(){var e=window.innerWidth;i(e<768?"mobile":e<1440?"tablet":"desktop")};return(0,r.useEffect)((function(){return a(),window.addEventListener("resize",a),function(){window.removeEventListener("resize",a)}}),[]),o};var h=n(5906),v=n(4363);function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(){var e,t,n=(0,d.useTheme)().theme,o=(e=(0,r.useMemo)((function(){return["light"===n?h.R:h._,"light"===n?v.X:v.k]}),[n]),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],l=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=o[0],a=o[1];return{bodyTheme:n,themeColors:i,themeExtraColors:a}}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],l=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?w(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var x=[/^\/[a-zA-Z-]+\/price/i,/^\/[a-zA-Z-]+\/how-to-buy/i,/^\/[a-zA-Z-]+\/altcoins/i,/^\/[a-zA-Z-]+\/markets\/overview/i];const E=function(){var e,t,n,o,a=(0,d.useLanguage)().language,p=(0,d.useNavI18n)().getI18nTxt,h=(0,d.useCommonEnv)().envs.domain,v=g().bodyTheme,y=(0,d.useUserLoginStatus)(),w=y.value,E=y.loading,_=b((0,r.useState)(!1),2),S=_[0],I=_[1],k=b((0,r.useState)(!1),2),C=k[0],L=k[1],T=(0,r.useRef)(!1),O=(0,d.useCommonEnv)().envs.STATIC_HOST,A="mobile"===m(),j=(0,c.L)().isHybrid,R=(0,r.useCallback)((function(){var e;T.current||(T.current=!0,console.log("bannerInitiator called"),e=window.location.pathname,x.some((function(t){return t.test(e)}))?(console.log("call topBarAndTopCTA API to show banner"),(0,f.get)("/bapi/composite/v1/public/growth-activity/loyalty/onboarding/topBarAndTopCTA").then((function(e){var t=e.data;console.log("topBarAndTopCTA API call",t),null!=t&&t.showTopBar&&L(!0)}))):console.log("validatePageUrl = false"))}),[]);(0,r.useEffect)((function(){E||w||I(!0)}),[w,E]),e=function(){R()},t=S,n=(0,r.useRef)(!1),o=(0,r.useCallback)((function(){n.current||(console.log("UserActionTrigger"),n.current=!0,e())}),[]),(0,r.useEffect)((function(){var e,n,r;t&&(e=function(){window.removeEventListener("mousemove",e,!1),console.log("mousemoveListener triggered"),o()},n=function(){window.removeEventListener("touchstart",n,!1),console.log("touchstartListener triggered"),o()},r=function(){window.removeEventListener("scroll",r,!1),console.log("scrollListener triggered"),o()},window.addEventListener("mousemove",e,!1),window.addEventListener("touchstart",n,!1),window.addEventListener("scroll",r,!1))}),[t]);var N=(0,r.useCallback)((function(){(0,i.j)("webClick",{elementId:"footer_banner_close",pageName:"extension",lang:a}),L(!1)}),[a]),M=(0,r.useCallback)((function(){(0,i.j)("webClick",{elementId:"footer_banner_click",pageName:"extension",lang:a});var e="https://accounts.".concat(h,"/").concat(a,"/register?registerChannel=footer_banner");window.open(e,"_blank")}),[h,a]);if(j||!C||A)return null;var D="dark"===v?"dark_banner_bg.svg":"light_banner_bg.svg",P='url("'.concat(O,"/static/images/home/").concat(D,'")');return React.createElement("div",{className:"IncentiveBanner",style:{backgroundImage:P}},React.createElement("div",{className:"IncentiveBanner_content"},React.createElement(l.Z,{className:"IncentiveBanner_logo",src:"".concat(O,"/static/images/home/incentive_logo.svg")}),React.createElement("div",{className:"IncentiveBanner_text"},p("Register now and receive up to 100 USDT in rewards"))),React.createElement(u.Z,{onClick:M,sz:"small",className:"IncentiveBanner_register_btn"},p(A?"ba-Register":"Register Now")),React.createElement(s.Z,{onClick:N,size:24,className:"IncentiveBanner_close_btn"}))};var _=n(1996);function S(e){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(e)}function I(){I=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,o){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),c=new C(o||[]);return r(a,"_invoke",{value:x(e,n,c)}),a}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var f={};function d(){}function p(){}function m(){}var h={};l(h,i,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&n.call(y,i)&&(h=y);var g=m.prototype=d.prototype=Object.create(h);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function o(r,i,a,c){var l=s(e[r],e,i);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==S(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,c)}),(function(e){o("throw",e,a,c)})):t.resolve(f).then((function(e){u.value=e,a(u)}),(function(e){return o("throw",e,a,c)}))}c(l.arg)}var i;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return i=i?i.then(r,r):r()}})}function x(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=E(a,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function E(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=s(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function L(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:T}}function T(){return{value:void 0,done:!0}}return p.prototype=m,r(g,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:p,configurable:!0}),p.displayName=l(m,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(w.prototype),l(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new w(u(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(g),l(g,c,"Generator"),l(g,i,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=L,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;k(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:L(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function k(e,t,n,r,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,o)}function C(e,t){return L.apply(this,arguments)}function L(){var e;return e=I().mark((function e(t,n){var r,o,i,a,c,l,u;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,f.post)("/bapi/apex/v1/public/apex/marketing/web/commonConfig",{keys:["com.globalRedirection.disable"]});case 3:i=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log("handleRedirect, post commonConfig error = ",e.t0);case 9:if(a=0,null!==(r=i)&&void 0!==r&&null!==(o=r.data)&&void 0!==o&&o.res&&(a=i.data.res["com.globalRedirection.disable"],console.log("handleRedirect, isDisabledRedirection = ",a)),c=localStorage.getItem("_GLOBALJS_REDIRECTION_DISABLE"),l=window.location.hostname.split("."),u=l[l.length-2],!(c&&"qa1fdg"===u||1===a)){e.next=18;break}return console.log("handleRedirect, redirection is disabled"),e.abrupt("return");case 18:if(console.log("handleRedirect, url = ",t),!n){e.next=22;break}return window.location.replace(t),e.abrupt("return");case 22:window.location.href=t;case 23:case"end":return e.stop()}}),e,null,[[0,6]])})),L=function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){k(i,r,o,a,c,"next",e)}function c(e){k(i,r,o,a,c,"throw",e)}a(void 0)}))},L.apply(this,arguments)}function T(){var e=(0,d.useLanguage)().language,t=(0,d.useComplianceActionCheck)().value;return(0,r.useEffect)((function(){var n,r,o;if(console.log("set _EXTENSION_REDIRECT_FLAG"),window._EXTENSION_REDIRECT_FLAG=!0,null!=t&&t.success&&(null==t||null===(n=t.data)||void 0===n||!n.pass)&&"web"===(null==t||null===(r=t.data)||void 0===r?void 0:r.clientType)){var a=((null==t?void 0:t.data)||{}).actionType,c=((null==t||null===(o=t.data)||void 0===o?void 0:o.actionInfo)||{}).actionUrl;if(c){if(console.log("ComplianceRedirect actionUrl = ",c),(0,i.j)("pageView",{elementID:"common_widget_extension_compliance_redirect",pageName:"common_widget_extension",df_3:c}),"redirect_rel"===a){if(c.startsWith("/"))return void C("https://www.%suffixOrigin%".concat(c).replace("%suffixOrigin%",(0,_.getLevelDomain)(2)),!0);var l=c;C(window.location.href.replace("/"+e,"/"+l),!0)}"redirect_abs"===a&&C(c,!0)}}}),[t,e]),React.createElement(React.Fragment,null)}var O=n(314),A=n(7076),j=n.n(A),R=n(3992),N=n.n(R);function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}j().extend(N());var D=n(2779),P=n.n(D);function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function B(e){var t,n,o=e.banner,i=e.themeColors,a=e.extInfo,l=(0,c.L)().isHybrid,u=(0,d.useLanguage)().language,f=(0,d.useI18n)(o.i18nNamespace||"com-compliance").getI18nText,p=(t=(0,r.useState)(!0),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],l=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(t,n)||function(e,t){if(e){if("string"==typeof e)return U(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?U(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),m=p[0],h=p[1],v=(0,r.useCallback)((function(e){var t,n=e||{},r=n.bannerText,o=void 0===r?"":r,c=n.bannerLinks,l=void 0===c?[]:c,s=n.useI18nKey,d=n.bannerTextMultiLang,p=void 0===d?[]:d,m=o;if(s)m=f(o);else{var h=p.find((function(e){return e.selectedLang===u}));null!=h&&h.text&&(m=h.text)}return l.forEach((function(e){var t,n,r=null===(t=e.linkURL)||void 0===t||null===(n=t.replace("%suffixOrigin%",(0,_.getLevelDomain)(2)))||void 0===n?void 0:n.replace("%locale%",u),o=e.linkText;s&&(o=f(e.linkText));var a='<a href="'.concat(r,'" class="CommonWidgetCompliance_content_link" style="color: ').concat(i.textBrand,'" target="_blank">').concat(o,"</a>");if(e.key){var c=new RegExp("".concat(e.key),"g");m=c.test(m)?m.replace(c,a):"".concat(m," ").concat(a)}else m="".concat(m," ").concat(a)})),null!=a&&a.enableWDtime&&m.includes("{{endTime}}")&&(m=m.split("{{endTime}}").join((t=null==a?void 0:a.enableWDtime,j()(t).utc().format("YYYY/MM/DD HH:mm")))),m}),[null==a?void 0:a.enableWDtime,f,u,i.textBrand]),y=(0,r.useCallback)((function(){h(!1)}),[]);if(!m)return null;if(l&&(null==o||!o.showInWebview))return null;var g=v(o);return g?React.createElement("div",{key:o.bannerText,className:"CommonWidgetCompliance_content",style:{color:i.textPrimary}},React.createElement("div",{dangerouslySetInnerHTML:{__html:g}}),o.canBeClosed&&React.createElement(s.Z,{onClick:y,size:24,className:"CommonWidgetCompliance_close_btn",style:{color:i.bg4}})):null}var Z=function(){var e=g().themeColors,t=(0,d.useComplianceActionCheck)(),n=t.bannerInfo,o=t.value;(0,r.useEffect)((function(){var e,t;n.length>0&&(0,i.j)("pageView",{elementID:"common_widget_extension_compliance_banner",pageName:"common_widget_extension",df_3:String((null==n||null===(e=n[0])||void 0===e||null===(t=e.extraInfo)||void 0===t?void 0:t.errorCode)||"client_no_code")})}),[n]);var a=(0,r.useMemo)((function(){var e;return null==o||null===(e=o.data)||void 0===e?void 0:e.extInfo}),[o]);return React.createElement(React.Fragment,null,n.map((function(t){return React.createElement(B,{key:t.bannerText,banner:t,themeColors:e,extInfo:a})})))};function G(){var e,t,n,o,i,a,c,l,u,s,f,p,m=(e={portalClassName:P()("CommonWidgetCompliance",_.NAMESPACE)},t=e.portalClassName,n=g().themeColors,o=(0,d.useComplianceActionCheck)().bannerInfo,i=(0,r.useRef)(null),f=(0,r.useState)(null),p=2,a=function(e){if(Array.isArray(e))return e}(f)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],l=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(f,p)||function(e,t){if(e){if("string"==typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?M(e,t):void 0}}(f,p)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),c=a[0],l=a[1],u="__APP_HEADER",s=(0,r.useMemo)((function(){var e=document.getElementById(u);return!!e&&"sticky"===window.getComputedStyle(e).position}),[]),(0,r.useEffect)((function(){var e=null==o?void 0:o[0];if(e){var n=null==e?void 0:e.shouldSticky;if(i.current||(i.current=document.createElement("div"),i.current.className=t,l(i.current)),n)if(s){var r=document.getElementById(u);null==r||r.prepend(i.current)}else i.current.classList.add("CommonWidgetCompliance_sticky"),document.body.prepend(i.current);else document.body.prepend(i.current);return function(){var e,t=null===(e=i.current)||void 0===e?void 0:e.parentNode;t&&i.current&&t.removeChild(i.current)}}}),[o,s,t]),(0,r.useEffect)((function(){c&&(c.style.backgroundColor=n.bg3)}),[n,c]),c);return(0,r.useMemo)((function(){var e=window.location.href,t=["/compliance/","/about-legal/"];return window.location.hostname.includes("qa1fdg.net")&&t.push("/events/"),t.some((function(t){return e.includes(t)}))&&e.includes("_hideheader=true")}),[])?null:React.createElement(React.Fragment,null,m&&(0,O.createPortal)(React.createElement(Z,null),m))}var F=n(3941),W=n(7560),z=n(2680),q=n(5114),H=n(6047),Y=n(4561),K=n(3408),V=function(e){return e.OPEN_LINK="OPEN_LINK",e.CUSTOM="CUSTOM",e}({}),$=function(e){return e.BASIC="basic",e.TERMS="terms",e}({}),X="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?o().useLayoutEffect:o().useEffect;function J(e){var t=o().useRef(e);return X((function(){t.current=e})),o().useCallback((function(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return null===(e=t.current)||void 0===e?void 0:e.apply(null,r)}),[])}function Q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],l=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ee(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ee(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var te,ne,re="com-compliance";function oe(e){var t=e.popupInfo,n=(0,c.L)().isHybrid,o=(0,d.useLanguage)().language,i=Q((0,r.useState)(!0),2),a=i[0],l=i[1],s=(0,d.useI18n)(t.i18nNamespace||re).getI18nText;t.useI18nKey&&["title","content","confirmText","cancelText"].forEach((function(e){t[e]=s(t[e])}));var f=J((function(e){switch(e){case"warning":return React.createElement(z.Z,null);case"error":return React.createElement(q.Z,null);case"success":return React.createElement(H.Z,null);default:return React.createElement(Y.Z,null)}})),p=J((function(){var e;if(console.log("onConfirm"),(null==t||null===(e=t.confirmAction)||void 0===e?void 0:e.type)===V.OPEN_LINK){var n,r,i,a=null==t||null===(n=t.confirmAction)||void 0===n||null===(r=n.url)||void 0===r||null===(i=r.replace("%suffixOrigin%",(0,_.getLevelDomain)(2)))||void 0===i?void 0:i.replace("%locale%",o);window.open(a,"_blank")}l(!1)})),m=J((function(){console.log("onCancel"),l(!1)}));return!n||null!=t&&t.showInWebview?React.createElement(F.ZP,{className:"CommonWidgetCompliance-popup-box"},React.createElement(K.PopupModal,{visible:a},React.createElement(W.Z,{actions:React.createElement("div",{className:"flex-column"},React.createElement(u.Z,{className:"width-100",onClick:p},t.confirmText),t.cancelText&&React.createElement(u.Z,{variant:"secondary",className:"mt-14 width-100",onClick:m},t.cancelText)),description:t.content,icon:f(t.type),title:t.title}))):null}function ie(){var e=(0,d.useComplianceActionCheck)().value,t=Q((0,r.useState)(null),2),n=t[0],o=t[1],a=n&&(!(null!=n&&n.category)||(null==n?void 0:n.category)===$.BASIC);return(0,r.useEffect)((function(){var t,n;if(null!=e&&e.success&&(null==e||null===(t=e.data)||void 0===t||!t.pass)){var r=((null==e||null===(n=e.data)||void 0===n?void 0:n.actionInfo)||{}).popupInfo;r&&o(r)}}),[e]),(0,r.useEffect)((function(){var e;a&&(console.log("CompliancePopup show"),(0,i.j)("pageView",{elementID:"common_widget_extension_compliance_popup",pageName:"common_widget_extension",df_3:String((null==n||null===(e=n.extraInfo)||void 0===e?void 0:e.errorCode)||"client_no_code")}),console.log("CompliancePopup, popupInfo= ",n))}),[n,a]),a?React.createElement(oe,{popupInfo:n}):null}function ae(){var e,t=document.getElementById("bniframexxxuw"),n=null==t||null===(e=t.contentDocument)||void 0===e?void 0:e.getElementById("pre-chat-container");n?n.style.display="none":setTimeout((function(){ae()}),50)}function ce(e){var t=e.modalId,n=e.code,r=e.termsBodyUrl,o=e.nextOpenInterval||43200,i=e.confirmText,a=e.cancelText,c=e.confirmCountdown||5,l=e.isShowCancel,u=e.style||{},s=e.isScrollHide||!1,f=-1===document.cookie.indexOf("theme=dark"),d="".concat(n,"-tnc-popup");function p(){var e,n,r=document.getElementById(t);r&&(null==r||null===(e=r.parentNode)||void 0===e||e.removeChild(r)),(n=document.getElementsByTagName("html")[0]).style.overflowY=te,n.style.height=ne}if(-1!==window.location.hostname.indexOf("qa1fdg.net")&&/\/events/.test(window.location.href))console.log("showComplianceTermModal false, cause: isQAEnv && /events");else if(/\/my\/settings\/profile|\/need-kyc|\/privacy|\/legal\/terms-uk|\/about-legal|\/compliance\/.*/.test(window.location.href))console.log("showComplianceTermModal false, cause: url match");else{if(l){var m=localStorage.getItem(d);if(m&&Date.now()-parseInt(m,10)<1e3*o)return void console.log("showComplianceTermModal false, cause: less than nextOpenInterval")}var h=null,v=document.getElementById(t);if(v)console.log("showComplianceTermModal false, cause: node exist");else{var y;y=document.getElementsByTagName("html")[0],te=y.style.overflowY,ne=y.style.height,y.style.overflowY="hidden",y.style.height="100vh",console.log("should showComplianceTermModal, modalId = ",t),(v=document.createElement("div")).setAttribute("name",t),v.setAttribute("id",t),v.style.height="100vh",v.style.boxSizing="border-box",v.style.width="100%",v.style.position="fixed",v.style.top="0px",v.style.right="0px",v.style.left="0px",v.style.bottom="0px",v.style.zIndex="10086",v.style.background="rgba(0, 0, 0, 0.55)",v.style.display="flex",v.style.alignItems="center",v.style.justifyContent="center";var g=document.createElement("div");g.setAttribute("name","modal"),g.style.display="flex",g.style.position="relative",g.style.width=u.width||"100%",g.style.height=u.height||"calc(100vh - 144px)",g.style.margin=u.margin||"16px",g.style.maxWidth="769px",g.style.background=f?"white":"#181A20",g.style.borderRadius="8px",g.style.boxShadow="0px 0px 1px rgba(24, 26, 32, 0.1), 0px 16px 32px rgba(71, 77, 87, 0.16), 0px 8px 16px rgba(24, 26, 32, 0.16)",g.style.flexDirection="column",g.style.padding=u.padding||"16px 24px 24px 8px";var b=document.createElement("div");b.setAttribute("name","scrollHide"),b.style.position="absolute",b.style.width="3px",b.style.top="24px",b.style.right="8px",b.style.bottom="80px",b.style.background=f?"white":"#181A20";var w=document.createElement("iframe");w.setAttribute("name","bniframexxxuw"),w.setAttribute("id","bniframexxxuw"),w.setAttribute("allowtransparency","true"),w.setAttribute("width","100%"),w.setAttribute("height","100%"),w.setAttribute("style","background-color=transparent"),w.setAttribute("frameborder","0"),w.setAttribute("src",r),w.attachEvent?w.attachEvent("onload",(function(){ae()})):w.onload=function(){ae()},g.appendChild(w),s&&g.appendChild(b);var x=document.createElement("div");if(x.style.display="flex",x.style.justifyContent="center",l){var E=document.createElement("button");E.style.height="40px",E.style.color="#1E2329",E.style.outline="none",E.style.border="none",E.style.background="#EAECEF",E.style.borderRadius="4px",E.style.display="flex",E.style.alignItems="center",E.style.justifyContent="center",E.style.margin="24px 0",E.style.fontSize="16px",E.style.lineHeight="24px",E.style.fontWeight="500",E.style.marginBottom="0px",E.style.cursor="pointer",E.style.opacity="1",E.style.marginRight="16px",E.style.paddingRight="12px",E.style.paddingLeft="12px",E.innerText=a,E.onclick=function(){localStorage.setItem(d,Date.now().toString()),p()},x.appendChild(E)}var _=document.createElement("button");_.style.width=u.btnWidth||"auto",_.style.height="40px",_.style.color="#1E2329",_.style.outline="none",_.style.border="none",_.style.background="#fcd535",_.style.borderRadius="4px",_.style.display="flex",_.style.alignItems="center",_.style.justifyContent="center",_.style.padding="0 12px",_.style.margin="24px 0",_.style.fontSize="16px",_.style.lineHeight="24px",_.style.fontWeight="500",_.style.marginBottom="0px",_.style.cursor="pointer",_.style.opacity="1",_.innerText=i,_.disabled=!0,_.onclick=function(){var e;if(!h){null===(e=w.contentWindow)||void 0===e||e.postMessage({type:"submit_terms"},"*"),_.style.cursor="not-allowed",_.style.opacity="0.6";var t=c;h=setInterval((function(){--t<=0?(clearInterval(h),p()):_.innerText=i+" ("+t+")"}),1e3)}},r&&window.addEventListener("message",(function(e){console.log("ComplianceTerm message received",e.data);var t=e.data||{},n=t.type,r=t.buttonDisabled;"muses_terms_checkbox_event"===n&&(_.disabled=r,_.style.cursor=r?"not-allowed":"pointer",_.style.opacity=r?"0.6":"1")}));var S=window.matchMedia("(max-width: 768px)");I(S),S.addListener(I),x.appendChild(_),g.appendChild(x),v.appendChild(g),document.body.appendChild(v)}}function I(e){e.matches?g.style.padding=u.padding||"20px 16px 24px 0":g.style.padding=u.padding||"32px 24px 24px 8px"}}var le="com-compliance";function ue(e){var t=e.popupInfo,n=(0,c.L)().isHybrid,o=(0,d.useLanguage)().language,i=(0,d.useI18n)(t.i18nNamespace||le),a=i.getI18nText,l=i.i18n,u=(0,r.useMemo)((function(){return!(l&&Object.keys(l).length>0)}),[l]);t.useI18nKey&&["title","content","confirmText","cancelText"].forEach((function(e){t[e]=a(t[e])}));var s=J((function(){var e,n;console.log("showTermsCallback");var r=null===(e=t.termsBodyUrl)||void 0===e||null===(n=e.replace("%suffixOrigin%",(0,_.getLevelDomain)(2)))||void 0===n?void 0:n.replace("%locale%",o);ce({modalId:"compliance-terms-modal-".concat(t.extraInfo.errorCode),code:t.extraInfo.errorCode,termsBodyUrl:r,nextOpenInterval:t.nextOpenInterval,confirmText:t.confirmText,cancelText:t.cancelText,isShowCancel:!!t.cancelText})}));return(0,r.useEffect)((function(){(!n||null!=t&&t.showInWebview)&&(u||t.category!==$.TERMS||s())}),[u,s,t,n]),React.createElement(F.ZP,{className:"CommonWidgetCompliance-term-box"})}function se(){var e=(0,d.useComplianceActionCheck)().value,t=(0,r.useMemo)((function(){var t;return((null==e||null===(t=e.data)||void 0===t?void 0:t.actionInfo)||{}).popupInfo}),[e]),n=t&&(null==t?void 0:t.category)===$.TERMS;return(0,r.useEffect)((function(){var e;n&&(console.log("ComplianceTerm show"),(0,i.j)("pageView",{elementID:"common_widget_extension_compliance_term",pageName:"common_widget_extension",df_3:String((null==t||null===(e=t.extraInfo)||void 0===e?void 0:e.errorCode)||"client_no_code")}),console.log("ComplianceTerm, popupInfo= ",t))}),[t,n]),n?React.createElement(ue,{popupInfo:t}):null}function fe(e){return fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fe(e)}var de="com-compliance";function pe(e){var t=e.popupInfo,n=(0,c.L)().isHybrid,o=(0,d.useLanguage)().language,i=(0,d.useI18n)(t.i18nNamespace||de),a=i.getI18nText,l=i.i18n,u=(0,r.useMemo)((function(){return!(l&&Object.keys(l).length>0)}),[l]);t.useI18nKey&&["title","content","confirmText","cancelText"].forEach((function(e){t[e]=a(t[e])}));var s=(0,r.useCallback)((function(){var e,n,r=t.extraInfo.errorCode;if(r){console.log("showTermsCallback for checkUser, errorCode = ",r);var i=null===(e=t.termsBodyUrl)||void 0===e||null===(n=e.replace("%suffixOrigin%",(0,_.getLevelDomain)(2)))||void 0===n?void 0:n.replace("%locale%",o);if("200004079"===r){var a=2!==window.location.pathname.split("/").length,c=window.location.hostname.startsWith("www");if(a||!c)return}ce({modalId:"compliance-terms-modal-".concat(r),code:r,termsBodyUrl:i,nextOpenInterval:t.nextOpenInterval,confirmText:t.confirmText,cancelText:t.cancelText,isShowCancel:!!t.cancelText})}}),[o,t]),f=(0,r.useCallback)((function(){var e,n,r,o,i=null==t||null===(e=t.extraInfo)||void 0===e?void 0:e.errorCode;i&&("object"!==fe(window._EXTENSION_TERMS_FLAG)?window._EXTENSION_TERMS_FLAG=(n={},o=!0,(r=function(e){var t=function(e,t){if("object"!==fe(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==fe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===fe(t)?t:String(t)}(r=i))in n?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,n):window._EXTENSION_TERMS_FLAG[i]=!0)}),[t]);return(0,r.useLayoutEffect)((function(){f()}),[f]),(0,r.useEffect)((function(){u||(!n||null!=t&&t.showInWebview)&&s()}),[u,s,t,n]),React.createElement(F.ZP,{name:"common-widget-compliance-term-checkuser"})}function me(){var e=(0,d.useComplianceActionCheck)().value,t=(0,r.useMemo)((function(){var t,n;return((null==e||null===(t=e.data)||void 0===t||null===(n=t.userCheckResult)||void 0===n?void 0:n.actionInfo)||{}).popupInfo}),[e]),n=(0,r.useMemo)((function(){return t&&(null==t?void 0:t.category)===$.TERMS}),[t]);return(0,r.useEffect)((function(){var e;n&&(console.log("ComplianceTerm for checkUser show"),(0,i.j)("pageView",{elementID:"common_widget_extension_compliance_term_checkuser",pageName:"common_widget_extension",df_3:String((null==t||null===(e=t.extraInfo)||void 0===e?void 0:e.errorCode)||"client_no_code")}),console.log("ComplianceTerm checkuser, popupInfo= ",t))}),[t,n]),n?React.createElement(pe,{popupInfo:t}):null}var he=n(9284),ve=n(6731);function ye(e){return ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ye(e)}function ge(){ge=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,o){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),c=new I(o||[]);return r(a,"_invoke",{value:x(e,n,c)}),a}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var f={};function d(){}function p(){}function m(){}var h={};l(h,i,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(k([])));y&&y!==t&&n.call(y,i)&&(h=y);var g=m.prototype=d.prototype=Object.create(h);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function o(r,i,a,c){var l=s(e[r],e,i);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==ye(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,c)}),(function(e){o("throw",e,a,c)})):t.resolve(f).then((function(e){u.value=e,a(u)}),(function(e){return o("throw",e,a,c)}))}c(l.arg)}var i;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return i=i?i.then(r,r):r()}})}function x(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=E(a,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function E(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=s(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function k(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:C}}function C(){return{value:void 0,done:!0}}return p.prototype=m,r(g,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:p,configurable:!0}),p.displayName=l(m,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(w.prototype),l(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new w(u(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(g),l(g,c,"Generator"),l(g,i,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=k,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;S(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:k(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function be(e,t,n,r,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,o)}function we(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){be(i,r,o,a,c,"next",e)}function c(e){be(i,r,o,a,c,"throw",e)}a(void 0)}))}}var xe=function(){var e=we(ge().mark((function e(){var t;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,f.post)("/bapi/composite/v1/private/growth/marketing/consent-pop-up",{source:"Web"});case 3:t=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),t={};case 9:return e.abrupt("return",t);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),Ee=function(){var e=we(ge().mark((function e(t){var n;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,f.post)("/bapi/composite/v1/private/growth/marketing/consent-status",{marketingConsentStatus:t,source:"Web"});case 3:n=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),n={data:!1};case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),_e=[/^\/[a-zA-Z-]+\/register(\/.*)?/i,/^\/[a-zA-Z-]+\/need-kyc(\/.*)?/i,/^\/[a-zA-Z-]+\/kyc-entry(\/.*)?/i,/^\/[a-zA-Z-]+\/kyc-center(\/.*)?/i,/^\/[a-zA-Z-]+\/about-legal(\/.*)?/i],Se=_.cachePromiseStore.checkCacheBeforeRequest("getShowMarketingConsent",(0,d.requestAfterCheckLogin)(xe)),Ie="NTEwMzc1ODYwMTo4aThubklsaWVtTGZDUnZTN1ZyTzhIV2hCdEJFaDE2Zw==",ke={A:{title:"ba-marketing-consent-popup-title1",desc:"ba-marketing-consent-popup-desc1"},B:{title:"ba-marketing-consent-popup-title2",desc:"ba-marketing-consent-popup-desc2"},C:{title:"ba-marketing-consent-popup-title3",desc:"ba-marketing-consent-popup-desc3"},D:{title:"ba-marketing-consent-popup-title4",desc:"ba-marketing-consent-popup-desc4"}},Ce="market_consent_popup";function Le(e){return Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Le(e)}function Te(){Te=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,o){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),c=new I(o||[]);return r(a,"_invoke",{value:x(e,n,c)}),a}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var f={};function d(){}function p(){}function m(){}var h={};l(h,i,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(k([])));y&&y!==t&&n.call(y,i)&&(h=y);var g=m.prototype=d.prototype=Object.create(h);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function o(r,i,a,c){var l=s(e[r],e,i);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==Le(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,c)}),(function(e){o("throw",e,a,c)})):t.resolve(f).then((function(e){u.value=e,a(u)}),(function(e){return o("throw",e,a,c)}))}c(l.arg)}var i;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return i=i?i.then(r,r):r()}})}function x(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=E(a,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function E(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=s(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function k(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:C}}function C(){return{value:void 0,done:!0}}return p.prototype=m,r(g,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:p,configurable:!0}),p.displayName=l(m,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(w.prototype),l(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new w(u(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(g),l(g,c,"Generator"),l(g,i,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=k,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;S(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:k(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function Oe(e,t,n,r,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,o)}function Ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var je=function(){var e,t,n,o,c,l=(0,d.useNavI18n)().getI18nTxt,s=(0,d.useThemis)([Ie]).value,f=null==s||null===(e=s[Ie])||void 0===e?void 0:e.Marketing_Consent_String_Versions,p=(t=(0,_.useAsync)(Se,[]),n=t.value,{loading:t.loading,value:!!(n||{}).data}).value,m=(0,a.s)().pushNotify,h=(o=(0,r.useState)(!1),c=2,function(e){if(Array.isArray(e))return e}(o)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],l=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(o,c)||function(e,t){if(e){if("string"==typeof e)return Ae(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ae(e,t):void 0}}(o,c)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),v=h[0],y=h[1],g=ke[f||"A"]||{title:"ba-marketing-consent-popup-title1",desc:"ba-marketing-consent-popup-desc1"},b=g.title,w=g.desc,x=(0,r.useCallback)(function(){var e,t=(e=Te().mark((function e(t){var n,r,o;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,i.j)("webClick",{pageName:Ce,elementID:t?"web_click_market_consent_ok":"web_click_market_consent_close"}),e.next=3,Ee(t);case 3:n=e.sent,r=n.data,o=n.message,r?y(!1):m({title:o,message:""});case 7:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Oe(i,r,o,a,c,"next",e)}function c(e){Oe(i,r,o,a,c,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}(),[m]);return(0,r.useEffect)((function(){p?(y(!0),(0,i.j)("pageView",{elementID:"web_view_market_consent",pageName:Ce})):y(!1)}),[p]),v?React.createElement(K.PopupModal,{visible:v},React.createElement(W.Z,{icon:React.createElement(ve.Z,null),title:l(b),description:l(w),actions:React.createElement(he.Z,{style:{gap:"var( --space-2xs)"}},React.createElement(u.Z,{style:{flex:1},variant:"secondary",className:"w-full",onClick:function(){return x(!1)}},l("ba-no")),React.createElement(u.Z,{style:{flex:1},variant:"primary",className:"w-full",onClick:function(){return x(!0)}},l("ba-yes")))})):null};const Re=function(){var e=(0,d.useUserLoginStatus)().value,t=(0,r.useMemo)((function(){if(!_.isClient)return!1;var e=window.location.pathname;return!_e.some((function(t){return t.test(e)}))}),[]);return e&&t?React.createElement(je,null):null},Ne=function(){var e=g().bodyTheme;return(0,r.useEffect)((function(){(0,i.j)("pageView",{elementID:"common_widget_extension_mount",pageName:"common_widget_extension"})}),[]),React.createElement(K.ErrorBundary,{name:"common-widget-extension"},React.createElement(K.ThemeProvider,{theme:e,className:_.NAMESPACE},React.createElement(a.Z,null,React.createElement("div",{className:"extension-container hidden-in-bnc-app common-widget-css_wrap theme-root bg1 ".concat(e,"-color")},React.createElement(T,null),React.createElement(se,null),React.createElement(me,null),React.createElement(ie,null),React.createElement(G,null),React.createElement(E,null),React.createElement(Re,null)))))}},1024:t=>{t.exports=e},314:e=>{e.exports=t},3408:e=>{e.exports=n},1182:e=>{e.exports=r},1458:e=>{e.exports=o},6748:e=>{e.exports=i},1996:e=>{e.exports=a}},u={};function s(e){var t=u[e];if(void 0!==t)return t.exports;var n=u[e]={id:e,loaded:!1,exports:{}};return l[e].call(n.exports,n,n.exports,s),n.loaded=!0,n.exports}s.m=l,c=[],s.O=(e,t,n,r)=>{if(!t){var o=1/0;for(u=0;u<c.length;u++){for(var[t,n,r]=c[u],i=!0,a=0;a<t.length;a++)(!1&r||o>=r)&&Object.keys(s.O).every((e=>s.O[e](t[a])))?t.splice(a--,1):(i=!1,r<o&&(o=r));if(i){c.splice(u--,1);var l=n();void 0!==l&&(e=l)}}return e}r=r||0;for(var u=c.length;u>0&&c[u-1][2]>r;u--)c[u]=c[u-1];c[u]=[t,n,r]},s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),s.j=898,(()=>{var e={898:0};s.O.j=t=>0===e[t];var t=(t,n)=>{var r,o,[i,a,c]=n,l=0;if(i.some((t=>0!==e[t]))){for(r in a)s.o(a,r)&&(s.m[r]=a[r]);if(c)var u=c(s)}for(t&&t(n);l<i.length;l++)o=i[l],s.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return s.O(u)},n=this.webpackChunkUMD=this.webpackChunkUMD||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var f=s.O(void 0,[736],(()=>s(9113)));return s.O(f)})()));